/*!
 * linkhunter - v3.1.2
 * Detect links that real users actually type.
 * https://github.com/Zhouzi/linkhunter
 *
 * @author Gabin Aureche
 * @license MIT
 */

!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.linkhunter=e():t.linkhunter=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var l=n[r]={exports:{},id:r,loaded:!1};return t[r].call(l.exports,l,l.exports,e),l.loaded=!0,l.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){!function(e,n){t.exports=n()}(this,function(){function t(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function e(t,e,n){return null==e&&(e=t.length),null==n&&(n="..."),t.length<=e?t:t.substr(0,e-n.length)+n}function n(t){return b.email.test(t)}function r(t,e){return null==e&&(e=!1),!e&&n(t)?!1:b.link.test(t)}function l(t,e){null==e&&(e=!1);var r=[];return t.replace(b.links,function(t,e,n){r.push(n)}),e?r:r.filter(function(t){return!n(t)})}function i(t,e){return t.replace(b.links,function(t,n,r){return n+e(r)})}function o(e,r){null==r&&(r={});var l={ignoreEmail:!1,target:null,protocol:"http://",displayValue:t({cleanUp:!1,beautify:!1,shorten:!1},r.displayValue||{})};r=t(l,r);var o,u,c=r.target?'<a href="{{formatted}}" target="'+r.target+'">{{displayValue}}</a>':'<a href="{{formatted}}">{{displayValue}}</a>';return i(e,function(t){return o=n(t),r.ignoreEmail&&o?t:(u=t,r.displayValue.cleanUp&&(u=s(u)),r.displayValue.beautify&&(u=f(u)),r.displayValue.shorten&&(u=p(u,r.displayValue.shorten)),r.displayValue.withProtocol&&(u=a(u,r.protocol)),o?'<a href="'+a(t)+'">'+u+"</a>":c.replace("{{formatted}}",a(t,r.protocol)).replace("{{displayValue}}",u))})}function u(t){return n(t)?/^mailto:/i.test(t):/^https?:\/\//i.test(t)}function a(t,e){return null==e&&(e="http://"),n(t)&&(e="mailto:"),u(t)?t:e+t}function s(t,e){if(null==e&&(e=!1),e){var n=t.lastIndexOf("?");n>=0&&(t=t.substr(0,n))}return t=t.replace(/^https?:\/\//i,"").replace(/\/#?$/,"")}function p(t,n){return e(t,n)}function f(t,e){if(null==e&&(e=!0),n(t))return t;if(t=s(t,e),t.indexOf("/")<0)return t;var r=t.split("/");return r.length>2?r.shift()+"/.../"+r.pop():r.shift()+"/"+r.pop()}var c="(){}\"'",h=".!?:,;",d="(?=["+c+h+"]*)",g="([\\s"+c+h+"]*)",y="(?:[^\\s]*[^\\s"+c+h+"])?",x="(?:[-a-z0-9]{1,255}\\.)+[a-z]{2,10}",k="(?:mailto:)?[^\\s"+c+h.substr(1)+"]+@"+x,m="https?://"+x+"(?:/"+y+")?",V=x+"(?:/"+y+")?",b={email:new RegExp("^"+k+"$","i"),regularUrl:new RegExp("^"+m,"i"),userUrl:new RegExp("^"+V,"i"),link:new RegExp("^((?:"+k+")|(?:"+m+")|(?:"+V+"))$","i"),links:new RegExp(g+"((?:"+m+")|(?:(?:"+k+")|(?:"+V+"))"+d+")","gi")};return{regexps:b,looksLikeAnEmail:n,looksLikeALink:r,getLinks:l,replaceLinks:i,linky:o,hasProtocol:u,withProtocol:a,cleanUp:s,shorten:p,beautify:f}})}])});